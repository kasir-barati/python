<style>
  .mr-1 {
    margin-inline-start: 1rem;
  }
  .arrow {
    display: inline-block;
    padding: 0.1rem;
    --arrow-width: 0.5rem;
    border-inline-start: 0rem solid transparent;
    border-inline-end: var(--arrow-width) solid black;
    border-block-end: var(--arrow-width) solid black;
    position: relative;
    border-block-start: 0rem solid transparent;

    &::before {
      display: inline-block;
      background-color: black;
      content: '';
      position: absolute;
      inline-size: 10rem;
      block-size: var(--arrow-width);
      inset-block-start: -160%;
      inset-inline-end: 0;
      transform: rotate(45deg);
    }
  }
  .arrow-right {
    transform: rotate(-45deg);
  }

  body {
    align-content: center;
    box-sizing: border-box;

    main {
      font-size: 2rem;

      h1 {
        text-transform: capitalize;
        text-align: center;
        flex: 1 0;
      }

      section {
        display: flex;
        flex-wrap: wrap;
        flex-direction: row;
        color: white;
        text-shadow: 0.1rem 0.1rem 0.1rem orangered;
        text-align: center;
        text-transform: capitalize;
        align-items: center;

        span {
          inline-size: 30px;
          block-size: 30px;
        }

        > div {
          block-size: 200px;
          inline-size: 200px;
          margin-inline-end: 12rem;
          margin-inline-start: 2rem;
          align-content: center;
        }

        > div:first-of-type,
        > div:last-of-type {
          border: 1px solid black;
          border-radius: 100%;
        }
        > div:nth-child(3) {
          position: relative;

          &::after {
            border: 1px solid black;
            content: '';
            inline-size: 70%;
            block-size: 70%;
            display: inline-block;
            position: absolute;
            inset-inline-start: 2rem;
            inset-block-start: 2rem;
            transform: rotate(45deg);
          }
        }
        > div:nth-child(5) {
          block-size: 6rem;
          display: grid;
          grid-auto-flow: column;
          position: relative;

          &::after {
            content: 'Queue';
            position: absolute;
            inset-block-start: -50%;
          }

          > div {
            border: 1px solid black;
            block-size: inherit;
          }
        }
      }
    }
  }
</style>

<main>
  <h1>competing consumer pattern</h1>
  <ol>
    <li>
      Producer publishes messages to the broker, to an exchange.
    </li>
    <li>Default exchange pushes them to a queue.</li>
    <li>Consumer consumes the messages on the queue.</li>
  </ol>
  <section>
    <div>Producer</div>
    <span class="arrow arrow-right"></span>
    <div>Exchange</div>
    <span class="arrow arrow-right"></span>
    <div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
      <div></div>
    </div>
    <span class="arrow arrow-right"></span>
    <div>Consumer</div>
  </section>
</main>
